{% extends '::base.html.twig' %}

{% block title %}Catalogue | Bdloc{% endblock %}

{% block main_content %}
<!-- Page Content -->
<div class="container">

	<div class="row">

	{# J'affiche les formulaires de recherche & de filtre #}
	<div id="formsearch">
	{{ form(bookSearchForm) }}
	</div>
	<div id="formfilter">
	{{ form(bookFilterForm) }}
	</div>

	</div>
	
		
<div class="container" id="catalogue">
	<div class="row">
		{# Affichage des BDs #}
		{% for book in books %}

	        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3  ">
	            <div class="thumbnail">
	                <img src="{{ asset('img/Couvertures/Couvertures/' ~ book.cover ~ '') }}" alt="{{ book.title }}" class="catalogue_img" />
	                <div class="caption">
	                    <h1><a href="{{ path('bdloc_app_book_details', {id: book.id}) }}">{{ book.title }}</a></h1>
	                </div>
	                <div class="ratings">
	                    <p class="author">{{ book.illustrator.firstName }} {{ book.illustrator.lastName }}</p>
	                    
	                </div>
	            </div>
	        </div>

	    {% endfor %}
	</div>

	<div class="row">		
		<div class="col-xs-12"> 
	    	<div id="icon-position" class="btn-group pagination">
	          	
	          	 {# J'affiche page précédente, sauf si on se trouve sur la première page #}
	          	{% if page > 1 %}
	          	<button class="btn btn-default pagination" value="left" type="button">
	          	<span class="glyphicon glyphicon-arrow-left"></span>
			    <a href="{{ path('bdloc_app_book_allbooks', {page: page-1, nombreparpage: nombreParPage}) }}">Page précédente</a> 
				{% endif %}
				</button>

	          	{# J'affiche page suivante, sauf si on se trouve sur la dernière page #}
	          	{% if page < nombrePage %}
	          	<button class="btn btn-default pagination" value="right" type="button">
				<a href="{{ path('bdloc_app_book_allbooks', {page: page+1, nombreparpage: nombreParPage}) }}">Page suivante</a>
				<span class="glyphicon glyphicon-arrow-right"></span>
				{% endif %}
				
				</button>
			</div>
	    </div> 
	</div>
	</div>
<!-- /.container -->
{% endblock %}